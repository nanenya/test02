mcp_name: git_version_control
version: 1.0.0
description: >
  Git을 사용하여 버전 관리 작업을 수행하는 기능 모음입니다. 
  로컬 저장소 관리, 원격 저장소와의 동기화 등 핵심 Git 워크플로우를 지원합니다.
cost_tier: low
permissions_required:
  - file_system_access # 파일 및 디렉토리 읽기/쓰기
  - shell_execute      # Git 명령어 실행
dependencies:
  - git # 시스템에 Git CLI가 설치되어 있어야 함

functions:
  - name: git_init
    description: 지정된 경로에 새로운 Git 저장소를 초기화합니다.
    arguments:
      - name: path
        type: str
        description: 저장소를 초기화할 디렉토리 경로.
    return_value:
      type: str
      description: 초기화된 저장소의 절대 경로.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.
      - OSError: 디렉토리 생성에 실패한 경우.

  - name: git_clone
    description: 원격 저장소를 로컬 경로로 복제합니다.
    arguments:
      - name: repo_url
        type: str
        description: 복제할 원격 Git 저장소의 URL.
      - name: local_path
        type: str
        description: 저장소를 복제할 로컬 디렉토리 경로.
    return_value:
      type: str
      description: 복제된 로컬 저장소의 절대 경로.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.
      - ValueError: 대상 경로가 비어있지 않은 경우.

  - name: git_status
    description: 작업 디렉토리의 Git 상태를 반환합니다.
    arguments:
      - name: repo_path
        type: str
        description: 상태를 확인할 Git 저장소의 경로.
    return_value:
      type: str
      description: 'git status' 명령어의 전체 출력 문자열.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.
      - FileNotFoundError: 저장소 경로가 존재하지 않는 경우.

  - name: git_add
    description: 특정 파일 또는 변경사항을 스테이징 영역에 추가합니다.
    arguments:
      - name: repo_path
        type: str
        description: 대상 Git 저장소의 경로.
      - name: files
        type: List[str]
        description: 스테이징할 파일 또는 경로의 리스트.
    return_value:
      type: None
      description: 성공 시 반환값 없음.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.
      - ValueError: 파일 리스트가 비어있는 경우.

  - name: git_commit
    description: 스테이징된 변경 사항들을 메시지와 함께 커밋합니다.
    arguments:
      - name: repo_path
        type: str
        description: 대상 Git 저장소의 경로.
      - name: message
        type: str
        description: 커밋에 사용할 메시지.
    return_value:
      type: str
      description: 'git commit' 명령어의 결과 메시지.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.
      - ValueError: 커밋 메시지가 비어있는 경우.

  - name: git_push
    description: 로컬 커밋을 원격 저장소로 푸시합니다.
    arguments:
      - name: repo_path
        type: str
        description: 대상 Git 저장소의 경로.
      - name: remote
        type: str
        optional: true
        default: origin
        description: 푸시할 원격 저장소의 이름.
      - name: branch
        type: str
        optional: true
        default: main
        description: 푸시할 브랜치의 이름.
    return_value:
      type: str
      description: 'git push' 명령어의 결과 메시지.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.

  - name: git_pull
    description: 원격 저장소의 변경 사항을 가져와 현재 브랜치에 병합합니다.
    arguments:
      - name: repo_path
        type: str
        description: 대상 Git 저장소의 경로.
      - name: remote
        type: str
        optional: true
        default: origin
        description: 풀(pull)할 원격 저장소의 이름.
      - name: branch
        type: str
        optional: true
        default: main
        description: 풀(pull)할 브랜치의 이름.
    return_value:
      type: str
      description: 'git pull' 명령어의 결과 메시지.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.

  - name: git_fetch
    description: 원격 저장소의 최신 내역을 가져오지만 병합은 하지 않습니다.
    arguments:
      - name: repo_path
        type: str
        description: 대상 Git 저장소의 경로.
      - name: remote
        type: str
        optional: true
        default: origin
        description: 페치(fetch)할 원격 저장소의 이름.
    return_value:
      type: str
      description: 'git fetch' 명령어의 결과 메시지.
    exceptions:
      - GitCommandError: 명령어 실행에 실패한 경우.

  - name: git_create_branch
    description: "새로운 로컬 브랜치를 생성합니다."
    arguments:
      - name: branch_name
        type: str
        description: "생성할 브랜치의 이름."
    return_value:
      type: None
      description: "성공적으로 완료되면 아무것도 반환하지 않습니다."
    exceptions:
      - ValueError: "브랜치 이름이 유효하지 않은 형식일 때 발생합니다."
      - subprocess.CalledProcessError: "Git 명령어 실행에 실패했을 때 발생합니다."

  - name: git_switch_branch
    description: "지정된 브랜치로 전환합니다."
    arguments:
      - name: branch_name
        type: str
        description: "전환할 브랜치의 이름."
    return_value:
      type: None
      description: "성공적으로 완료되면 아무것도 반환하지 않습니다."

  - name: git_list_branches
    description: "로컬 및 원격 브랜치 목록을 반환합니다."
    arguments: []
    return_value:
      type: List[str]
      description: "모든 브랜치 이름의 리스트."

  - name: git_merge
    description: "다른 브랜치의 변경 사항을 현재 브랜치로 병합(merge)합니다. 충돌이 발생할 수 있는 위험한 작업입니다."
    arguments:
      - name: branch_to_merge
        type: str
        description: "현재 브랜치로 병합할 대상 브랜치의 이름."
    return_value:
      type: None

  - name: git_log
    description: "최근 커밋 기록을 지정된 수만큼 보여줍니다."
    arguments:
      - name: limit
        type: int
        optional: true
        default: 10
        description: "가져올 커밋의 최대 개수."
    return_value:
      type: str
      description: "포맷팅된 git 로그 문자열."

  - name: git_diff
    description: "스테이징되지 않은 변경 내용의 차이를 보여줍니다."
    arguments:
      - name: file
        type: str
        optional: true
        default: None
        description: "특정 파일의 변경 내용만 보려면 파일 경로를 지정합니다."
    return_value:
      type: str
      description: "'git diff' 결과 문자열."

  - name: git_add_remote
    description: "새로운 원격 저장소 주소를 추가합니다."
    arguments:
      - name: name
        type: str
        description: "원격 저장소의 별칭 (예: 'origin')."
      - name: url
        type: str
        description: "원격 저장소의 URL."
    return_value:
      type: None

  - name: git_create_tag
    description: "현재 커밋에 주석(annotated) 태그를 생성합니다."
    arguments:
      - name: tag_name
        type: str
        description: "생성할 태그의 이름 (예: 'v1.0.0')."
      - name: message
        type: str
        description: "태그에 대한 설명 메시지."
    return_value:
      type: None

  - name: git_list_tags
    description: "저장소에 존재하는 모든 태그의 목록을 반환합니다."
    arguments: []
    return_value:
      type: List[str]
      description: "태그 이름의 리스트."

  - name: git_revert_commit
    description: "특정 커밋의 변경 사항을 되돌리는 새로운 커밋을 생성합니다. 히스토리에 새로운 커밋이 추가됩니다."
    arguments:
      - name: commit_hash
        type: str
        description: "되돌릴 대상 커밋의 해시."
    return_value:
      type: None

  - name: git_show_commit_details
    description: "특정 커밋의 상세 정보와 변경된 내용(diff)을 보여줍니다."
    arguments:
      - name: commit_hash
        type: str
        description: "조회할 커밋의 해시."
    return_value:
      type: str
      description: "해당 커밋의 상세 정보 문자열."

  - name: git_get_current_branch
    description: "현재 작업 중인 브랜치의 이름을 반환합니다."
    arguments: []
    return_value:
      type: str
      description: "현재 브랜치의 이름."
