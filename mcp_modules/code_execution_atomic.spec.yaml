mcp_collection:
  name: code_execution_atomic
  version: 1.0.0
  description: "AI 에이전트를 위한 핵심 원자(Atomic) 기능 모음. OS, 코드, 네트워크 등과 상호작용합니다."
  primitives:
    - mcp_name: execute_shell_command
      version: 1.0.0
      description: "운영체제 셸(터미널) 명령어를 안전하게 실행하고 결과를 문자열로 반환합니다. 셸 주입 방지 기능이 포함되어 있습니다."
      arguments:
        - name: command
          type: str
          description: "실행할 셸 명령어 문자열. 예: 'ls -l'"
        - name: timeout
          type: int
          optional: true
          default: 10
          description: "명령어 실행 최대 대기 시간(초)"
      return_value:
        type: str
        description: "성공 시 명령어의 stdout 출력, 실패 시 stderr 오류 메시지"
      exceptions:
        - ValueError: "금지된 위험 명령어가 포함된 경우"
        - TimeoutError: "지정된 시간 내에 명령어가 완료되지 않은 경우"
      dependencies: []
      cost_tier: medium
      permissions_required: [shell_execute]

    - mcp_name: execute_python_code
      version: 1.0.0
      description: "파이썬 코드 문자열을 직접 실행하고 결과를 반환합니다. (주의: 보안에 매우 민감한 기능)"
      arguments:
        - name: code_str
          type: str
          description: "실행할 파이썬 코드. 결과는 'result' 변수에 할당해야 합니다."
        - name: sandboxed
          type: bool
          optional: true
          default: false
          description: "코드가 격리된 샌드박스 환경에서 실행되는지 여부. True로 설정해야만 동작합니다."
      return_value:
        type: any
        description: "코드에서 'result' 변수에 할당된 값. 없으면 None."
      exceptions:
        - PermissionError: "sandboxed 인자가 True가 아닐 경우"
      dependencies: []
      cost_tier: high
      permissions_required: [shell_execute]

    - mcp_name: read_code_file
      version: 1.0.0
      description: "지정된 경로의 코드 파일 내용을 안전하게 읽어 문자열로 반환합니다. 경로 조작 공격을 방지합니다."
      arguments:
        - name: path
          type: str
          description: "읽을 파일의 경로"
      return_value:
        type: str
        description: "파일의 전체 텍스트 내용"
      exceptions:
        - ValueError: "허용된 경로를 벗어나는 경우"
        - FileNotFoundError: "파일이 존재하지 않는 경우"
      dependencies: []
      cost_tier: low
      permissions_required: [file_read]

    - mcp_name: get_environment_variable
      version: 1.0.0
      description: "특정 환경 변수의 값을 조회합니다."
      arguments:
        - name: var_name
          type: str
          description: "조회할 환경 변수의 이름"
      return_value:
        type: "Optional[str]"
        description: "환경 변수의 값. 존재하지 않으면 None."
      exceptions: []
      dependencies: []
      cost_tier: low
      permissions_required: []

    - mcp_name: set_environment_variable
      version: 1.0.0
      description: "특정 환경 변수의 값을 설정하거나 새로 생성합니다."
      arguments:
        - name: var_name
          type: str
          description: "설정할 환경 변수의 이름"
        - name: value
          type: str
          description: "할당할 값"
      return_value:
        type: bool
        description: "설정 성공 시 True"
      exceptions: []
      dependencies: []
      cost_tier: low
      permissions_required: [env_write]

    - mcp_name: execute_sql_query
      version: 1.0.0
      description: "지정된 데이터베이스에 접속하여 SQL 쿼리를 안전하게 실행하고 결과를 반환합니다. SQL 주입 방지를 위해 파라미터화된 쿼리를 사용합니다."
      arguments:
        - name: db_uri
          type: str
          description: "데이터베이스 연결 URI"
        - name: query
          type: str
          description: "실행할 SQL 쿼리문 (바인딩 변수 사용)"
        - name: params
          type: "Optional[Dict]"
          optional: true
          default: null
          description: "쿼리에 바인딩할 파라미터 딕셔너리"
      return_value:
        type: "List[Dict]"
        description: "쿼리 결과. 각 행은 딕셔너리입니다."
      exceptions:
        - ImportError: "필요한 DB 라이브러리가 설치되지 않은 경우"
      dependencies: [sqlalchemy]
      cost_tier: medium
      permissions_required: [network_access]

    - mcp_name: check_port_status
      version: 1.0.0
      description: "특정 호스트의 포트가 열려 있는지 확인합니다."
      arguments:
        - name: host
          type: str
          description: "대상 호스트 주소"
        - name: port
          type: int
          description: "확인할 포트 번호"
        - name: timeout
          type: int
          optional: true
          default: 3
          description: "연결 대기 시간(초)"
      return_value:
        type: "Tuple[bool, str]"
        description: "(포트 열림 여부, 상태 메시지) 튜플"
      exceptions: []
      dependencies: []
      cost_tier: low
      permissions_required: [network_access]

    - mcp_name: get_code_complexity
      version: 1.0.0
      description: "코드 파일의 순환 복잡도를 측정하여 유지보수성을 평가합니다."
      arguments:
        - name: file_path
          type: str
          description: "분석할 파이썬 파일 경로"
      return_value:
        type: "Dict[str, Any]"
        description: "파일의 복잡도 분석 결과 딕셔너리"
      exceptions:
        - FileNotFoundError: "파일이 존재하지 않는 경우"
        - ValueError: "분석 도구(radon) 실행 또는 결과 파싱 실패 시"
      dependencies: [radon]
      cost_tier: medium
      permissions_required: [file_read, shell_execute]

    - mcp_name: get_function_signature
      version: 1.0.0
      description: "파이썬 파일 내에서 특정 함수의 정의(시그니처) 부분만 추출합니다."
      arguments:
        - name: file_path
          type: str
          description: "분석할 파이썬 파일 경로"
        - name: function_name
          type: str
          description: "추출할 함수의 이름"
      return_value:
        type: "Optional[str]"
        description: "찾은 함수의 전체 시그니처. 없으면 None."
      exceptions:
        - FileNotFoundError: "파일이 존재하지 않는 경우"
      dependencies: []
      cost_tier: low
      permissions_required: [file_read]

    - mcp_name: list_installed_packages
      version: 1.0.0
      description: "현재 파이썬 환경에 설치된 패키지와 그 버전을 목록으로 반환합니다."
      arguments: []
      return_value:
        type: "List[Tuple[str, str]]"
        description: "(패키지 이름, 버전) 튜플의 리스트"
      exceptions: []
      dependencies: []
      cost_tier: low
      permissions_required: []

    - mcp_name: docker_list_containers
      version: 1.0.0
      description: "현재 실행 중이거나 정지된 도커 컨테이너 목록을 가져옵니다."
      arguments: []
      return_value:
        type: "List[Dict]"
        description: "각 컨테이너의 정보를 담은 딕셔너리 리스트"
      exceptions:
        - ValueError: "docker 명령어 실행 실패 시"
      dependencies: [docker]
      cost_tier: low
      permissions_required: [shell_execute]

    - mcp_name: docker_list_images
      version: 1.0.0
      description: "로컬에 저장된 도커 이미지 목록을 가져옵니다."
      arguments: []
      return_value:
        type: "List[Dict]"
        description: "각 이미지의 정보를 담은 딕셔너리 리스트"
      exceptions:
        - ValueError: "docker 명령어 실행 실패 시"
      dependencies: [docker]
      cost_tier: low
      permissions_required: [shell_execute]

